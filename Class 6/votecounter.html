<html>
<head>
  <title>React Photos Feed</title>
  <script src="https://fb.me/react-0.13.3.js"></script>
  <script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.96.1/css/materialize.min.css">
 
</head>
<body>
  <div id="content" class="container">
    
  </div>
 
  <script type="text/jsx">

    votesJSON = localStorage.votes || 0;
    votes = JSON.parse(votesJSON);

    var VoteApp = React.createClass({
      render: function(){
        return(
          <div className="col s3 offset-s6">
            <h3>React Vote Counter</h3>
            <VoteButton />
          </div>
        )
      }
    })

    var VoteButton = React.createClass({
      getInitialState: function(){
        return {
          votes: votes
        }

      },

      handleCLick: function(event){
        newCount = this.state.votes + 1
        this.setState({votes: newCount})
        localStorage.votes=newCount
      },

      render: function(){

        return (
          <p>
            <a className="btn-floating btn-large waves-effect waves-light red">
              <i onClick={this.handleCLick} className="mdi-content-add"></i>
            </a>
          Votes: {this.state.votes}
          </p>
        )
      }
    })

    var renderApp = function(){
      React.render( <VoteApp />, document.getElementById("content") )
    }

    renderApp();
  </script>
  </body>
</body>
</html>